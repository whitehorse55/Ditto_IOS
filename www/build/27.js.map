{"version":3,"sources":["../../src/pages/chatroom/chatroom.module.ts","../../src/pages/chatroom/chatroom.ts"],"names":[],"mappings":"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","file":"27.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChatroomPage } from './chatroom';\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  declarations: [\n    ChatroomPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChatroomPage),\n    PipesModule\n  ],\n})\nexport class ChatroomPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chatroom/chatroom.module.ts","import { AdMobPro } from '@ionic-native/admob-pro';\nimport { NotificationProvider } from './../../providers/notification/notification';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { LocalstorageProvider } from './../../providers/localstorage/localstorage';\nimport { MatchedProvider } from './../../providers/matched/matched';\nimport { ChatproviderProvider } from './../../providers/chatprovider/chatprovider';\nimport { Component, ViewChild} from '@angular/core';\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  Content,\n  ModalController,\n  ActionSheetController,\n  Platform\n} from 'ionic-angular';\nimport { AlertService } from '../../providers/Utils/alert.service';\nimport { EmailComposer } from '@ionic-native/email-composer';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\n\n/**\n * Generated class for the ChatroomPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-chatroom',\n  templateUrl: 'chatroom.html'\n})\nexport class ChatroomPage {\n  @ViewChild('content')\n  content: Content;\n  @ViewChild('chat_input')\n  message_input;\n  // showKeyboard = false;\n  keyboardHeight: any;\n\n  message: any;\n  passdata: any;\n  messagesArray: Array<any>;\n\n  myinfo: any;\n  userPlaces  : any\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private chatprovider: ChatproviderProvider,\n    private matchprovider: MatchedProvider,\n    private localstorage: LocalstorageProvider,\n    private firestore: AngularFirestore,\n    private modalCtrl: ModalController,\n    private notiprovider: NotificationProvider,\n    private actionsheetCtrl: ActionSheetController,\n    private alertService: AlertService,\n    private emailcomposer: EmailComposer,\n    private keyboard: Keyboard,\n    private admob: AdMobPro,\n    private platform: Platform,\n    private lab: InAppBrowser,\n  ) {\n    this.passdata = this.navParams.get('data');\n    console.log('====================================');\n    console.log(this.passdata);\n    console.log('====================================');\n    this.myinfo = this.localstorage.getUserinfo();\n    this.keyboardHeight = 55;\n\n    this.keyboard.disableScroll(false);\n    this.userPlaces = this.passdata['userplaces'].reverse()\n    // this.platform.ready().then(() => {\n    //   // this.message_input.setFocus();\n    //   this.keyboard.onKeyboardShow().subscribe(e => {\n    //     console.log('this is keybaordsafasf eleefeef', e);\n    //     this.keyboardHeight = e['keyboardHeight'] + 55;\n    //     console.log('this is keybaordsafasf eleefeef', e);\n    //     this.content.resize();\n    //     this.scrollToBottom();\n    //   });\n\n    //   this.keyboard.onKeyboardHide().subscribe(e => {\n    //     this.keyboardHeight = 55;\n    //     this.content.resize();\n    //     this.scrollToBottom();\n    //   });\n    // });\n  }\n\n  ionViewDidLoad() {\n    console.log('passdatainfo', this.passdata);\n    this.message = '';\n    this.messagesArray = [];\n    this.getRealTimeMessage();\n    this.scrollToBottom();\n  }\n\n  onclickContent() {\n    this.keyboard.close();\n    this.keyboardHeight = 55;\n    this.scrollToBottom();\n  }\n\n  onFocus() {\n    console.log('this is focus event');\n    // this.keyboard.show();\n  }\n\n  scrollToBottom() {\n    setTimeout(() => {\n      if (this.content.scrollToBottom) {\n        this.content.scrollToBottom();\n      }\n    }, 100);\n  }\n\n  ionViewWillEnter() {\n    this.admob.removeBanner();\n    this.chatprovider\n      .saveUserStatus(true)\n      .then(succ => {})\n      .catch(err => {\n        alert(err);\n      });\n  }\n\n  ionViewDidLeave() {\n    this.chatprovider.saveUserStatus(false);\n  }\n\n  getUserAcceptStatus(userarrayinfo) {\n    let myid = this.matchprovider.getUserinfo()['id'];\n    let status = userarrayinfo.filter(res => res == myid);\n    if (status > 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  gotoDetailPage(item)\n  {\n    console.log(\"this is goto info\", item)\n    this.navCtrl.push('ChatdetailPage',{data : item, type : 'single'})\n  }\n  // one to one chat\n\n  getRealTimeMessage() {\n    let myid = this.matchprovider.getUserinfo()['id'];\n\n    let chatRef = this.firestore.collection('chat');\n\n    chatRef\n      .doc(myid)\n      .collection(this.passdata['userid'])\n      .valueChanges()\n      .subscribe(snapshot => {\n        this.messagesArray = [];\n        this.messagesArray = snapshot.reverse();\n      });\n  }\n  onclickSendButton() {\n    this.onclickSendButtonWithOne();\n  }\n\n  onclickSendButtonWithOne() {\n    if (this.message != '') {\n      this.chatprovider\n        .addMessage(this.message, this.passdata['userid'], 'message')\n        .then(result => {\n          // this.content.scrollToBottom(0);\n\n          ////////////////////check user is online or offline\n          this.chatprovider\n            .getUserStatus(this.passdata['userid'])\n            .then(res => {\n              console.log('this is res======>', res, this.message);\n              if (res[0]['active'] == false) {\n                this.notiprovider.sendFriendRequest(\n                  'Received Message!',\n                  this.passdata['userid'],\n                  this.message\n                );\n                this.message = '';\n              } else {\n                this.message = '';\n              }\n            })\n            .catch(errr => {\n              this.message = '';\n              alert(errr);\n            });\n        })\n        .catch(error => {\n          alert(error);\n        });\n    }\n    this.onclickContent();\n  }\n\n  changetextarea() {\n    // get elements\n    var element = document.getElementById('messageInputBox');\n    var textarea = element.getElementsByTagName('input')[0];\n\n    // set default style for textarea\n    textarea.style.minHeight = '50px';\n    textarea.style.height = '0';\n\n    // limit size to 96 pixels (6 lines of text)\n    var scroll_height = textarea.scrollHeight;\n    if (scroll_height > 160) scroll_height = 160;\n\n    // apply new style\n    element.style.height = scroll_height + 'px';\n    textarea.style.minHeight = scroll_height + 'px';\n    textarea.style.height = scroll_height + 'px';\n  }\n\n  onclickbackbutton() {\n    this.navCtrl.pop();\n  }\n\n  onclicksettimebutton(info) {\n    console.log('this is settime info', info);\n\n    let parameter = {\n      myid: this.myinfo['id'],\n      friendid: this.passdata['userid'],\n      data: info,\n      type: 'single'\n    };\n\n    this.modalCtrl\n      .create('SettimePage', { data: parameter }, { cssClass: 'inset-modal' })\n      .present();\n  }\n\n  onclickgroupbutton(url) {\n    var inappbrowser = this.lab.create(url, '_blank');\n    inappbrowser.show();\n  }\n\n  // report message\n  onclickmessage(item) {\n    console.log('this is item info', this.matchprovider.getUserinfo(), item);\n\n    let myid = this.matchprovider.getUserinfo()['id'];\n    if (item['sender'] != myid) {\n      let actionSheet = this.actionsheetCtrl.create({\n        title: '',\n        buttons: [\n          {\n            text: 'Report',\n            role: 'destructive',\n            handler: () => {\n              console.log('Destructive clicked');\n              this.sendReportMessage(item);\n            }\n          },\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            handler: () => {\n              console.log('Cancel clicked');\n            }\n          }\n        ]\n      });\n\n      actionSheet.present();\n    } else {\n      this.alertService.presentAlert('', \"Can't report about own message!\");\n    }\n  }\n\n  onclickuserimage() {\n    let actionSheet = this.actionsheetCtrl.create({\n      title: '',\n      buttons: [\n        {\n          text: 'Block User',\n          role: 'destructive',\n          handler: () => {\n            this.sendBlockUserRequest();\n            console.log('Destructive clicked');\n          }\n        },\n        {\n          text: 'Report Profile',\n          role: 'destructive',\n          handler: () => {\n            this.sendReportUserRequest();\n            console.log('Archive clicked');\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n\n    actionSheet.present();\n  }\n\n  sendBlockUserRequest() {\n    this.chatprovider\n      .setBlockUser(this.passdata['userid'])\n      .then(succss => {\n        this.navCtrl.pop();\n      })\n      .catch(er => {});\n  }\n\n  sendReportUserRequest() {\n    let myname = this.matchprovider.getUserinfo()['username'];\n    let myemail = this.matchprovider.getUserinfo()['email'];\n\n    let email = {\n      to: 'admin@dittochat.com',\n      cc: [myemail],\n      bcc: [],\n      attachment: [],\n      subject: 'Report Content',\n      body:\n        'Hi, My username is' +\n        myname +\n        '. I would like to report' +\n        this.passdata['username'] +\n        'More Info :'\n    };\n\n    this.emailcomposer.addAlias('gmail', 'com.google.android.gm');\n    this.emailcomposer.addAlias('outlook', 'com.microsoft.android.outlook');\n    this.emailcomposer.open(email);\n\n    this.emailcomposer\n      .isAvailable()\n      .then((available: boolean) => {\n        console.log('this is available', available);\n        if (available) {\n          //Now we know we can send\n          // Send a text message using default options\n          this.emailcomposer.open(email);\n        }\n      })\n      .catch(err => {\n        console.log('====================================');\n        console.log(err);\n        console.log('====================================');\n      });\n  }\n  // send report message to admin\n\n  sendReportMessage(item) {\n    let myname = this.matchprovider.getUserinfo()['username'];\n    let myemail = this.matchprovider.getUserinfo()['email'];\n\n    let email = {\n      to: 'admin@dittochat.com',\n      cc: [myemail],\n      bcc: [],\n      attachment: [],\n      subject: 'Report Content',\n      body:\n        'Hi, My username is' +\n        myname +\n        '. I would like to report' +\n        this.passdata['username'] +\n        'chatID : ' +\n        item['key']\n    };\n    this.emailcomposer.addAlias('gmail', 'com.google.android.gm');\n    this.emailcomposer.addAlias('outlook', 'com.microsoft.android.outlook');\n    this.emailcomposer.open(email);\n\n    this.emailcomposer\n      .isAvailable()\n      .then((available: boolean) => {\n        console.log('this is available', available);\n        if (available) {\n          //Now we know we can send\n          // Send a text message using default options\n          this.emailcomposer.open(email);\n        }\n      })\n      .catch(err => {\n        console.log('====================================');\n        console.log(err);\n        console.log('====================================');\n      });\n  }\n\n  onclickcancelbutton(info) {\n    this.chatprovider\n      .cancelMeetingRequest(info, this.passdata['userid'])\n      .then(succ => {})\n      .catch(err => {});\n  }\n\n  onclickAcceptbutton(info) {\n    this.chatprovider\n      .acceptMeetingRequest(info, this.passdata['userid'])\n      .then((sucee: Array<any>) => {\n        console.log('this si acc', sucee);\n\n        if (sucee.length > 0) {\n          this.modalCtrl\n            .create(\n              'MatchdatePage',\n              { data: sucee },\n              { cssClass: 'inset-modal-match' }\n            )\n            .present();\n        }\n      })\n      .catch(err => {});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chatroom/chatroom.ts"],"sourceRoot":""}