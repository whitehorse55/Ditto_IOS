{"version":3,"sources":["../../src/pages/placemap/placemap.module.ts","../../src/pages/placemap/placemap.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PlacemapPage } from './placemap';\n\n@NgModule({\n  declarations: [\n    PlacemapPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PlacemapPage),\n  ],\n})\nexport class PlacemapPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/placemap/placemap.module.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { GeolocatinoProvider } from '../../providers/geolocatino/geolocatino';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { MapType } from '@angular/compiler/src/output/output_ast';\n\n/**\n * Generated class for the PlacemapPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\ndeclare var google: any;\n\n@IonicPage()\n@Component({\n  selector: 'page-placemap',\n  templateUrl: 'placemap.html'\n})\nexport class PlacemapPage {\n  @ViewChild('map') mapElement: ElementRef;\n  map: any;\n  markers: any;\n  placename : any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public geolocationprovider: GeolocatinoProvider,\n    public geolocation: Geolocation\n  ) {\n    this.markers = [];\n    let placeid = this.navParams.get('placeid');\n    this.getPlaceInfo(placeid);\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PlacemapPage');\n  }\n\n  getPlaceInfo(placeid) {\n    this.geolocationprovider.getplaceDetails(placeid).then(result => {\n      let lat = result.result.geometry.location['lat'];\n      let lng = result.result.geometry.location['lng'];\n      this.placename = result.result.name\n      console.log('====================================');\n      console.log(result);\n      console.log('====================================');\n      this.initMap(lat, lng);\n    });\n  }\n\n  initMap(lat, lng) {\n    let latLng = new google.maps.LatLng(lat, lng)\n\n    this.map = new google.maps.Map(this.mapElement.nativeElement, {\n      zoom: 15,\n      center: latLng,\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\n      indoorPicker : true,\n      myLocationButton : true,\n    });\n\n    let position = new google.maps.LatLng(\n      lat,\n      lng\n    );\n\n    let image = 'assets/img/location.png';\n    var marker = new google.maps.Marker({position : position, title : this.placename, icon : image})\n    marker.setMap(this.map)\n\n    // let watch = this.geolocation.watchPosition();\n    // watch.subscribe(data => {\n    //   this.deleteMarkers();\n    //   let updatelocation = new google.maps.LatLng(\n    //     data.coords.latitude,\n    //     data.coords.longitude\n    //   );\n    //   let image = 'assets/img/location.png';\n    //   this.addMarker(updatelocation, image);\n    //   this.setMapOnAll(this.map);\n    // });\n  }\n\n  addMarker(location, image) {\n    let marker = new google.maps.Marker({\n      position: location,\n      map: this.map,\n      icon: image\n    });\n    this.markers.push(marker);\n  }\n\n  setMapOnAll(map) {\n    for (var i = 0; i < this.markers.length; i++) {\n      this.markers[i].setMap(map);\n    }\n  }\n\n  clearMarkers() {\n    this.setMapOnAll(null);\n  }\n\n  deleteMarkers() {\n    this.clearMarkers();\n    this.markers = [];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/placemap/placemap.ts"],"sourceRoot":""}